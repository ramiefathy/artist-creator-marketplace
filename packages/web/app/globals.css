/* packages/web/app/globals.css */

/* ============================================
   BASE VARIABLE ALIASES
   ============================================ */
:root {
  /* Base font variables (offline-safe; no next/font fetching). */
  --font-inter: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  --font-space-grotesk: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  --font-source-serif: ui-serif, Georgia, 'Times New Roman', Times, serif;
  --font-instrument-serif: ui-serif, Georgia, 'Times New Roman', Times, serif;
  --font-jetbrains: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
  --font-ibm-plex: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
  --font-space-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;

  /* These aliases keep the design system working without requiring local font files. */
  --font-geist: var(--font-inter);
  --font-geist-mono: var(--font-jetbrains);
  --font-clash-display: var(--font-space-grotesk);
  --font-satoshi: var(--font-inter);
}

/* ============================================
   REDUCED MOTION
   ============================================ */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ============================================
   CSS RESET
   ============================================ */
*,
*::before,
*::after {
  box-sizing: border-box;
}

* {
  margin: 0;
}

html {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  line-height: 1.5;
}

img,
picture,
video,
canvas,
svg {
  display: block;
  max-width: 100%;
}

input,
button,
textarea,
select {
  font: inherit;
}

p,
h1,
h2,
h3,
h4,
h5,
h6 {
  overflow-wrap: break-word;
}

/* ============================================
   THEME: NOIR
   ============================================ */
html[data-theme='noir'] {
  --color-bg: #0a0a0f;
  --color-bg-subtle: #12121a;
  --color-surface: #12121a;
  --color-surface-hover: rgba(255, 255, 255, 0.08);

  --color-text: #e8e8ed;
  --color-text-muted: rgba(255, 255, 255, 0.6);
  --color-text-subtle: rgba(255, 255, 255, 0.4);

  --color-primary: #00f0ff;
  --color-primary-hover: #00d4e0;
  --color-on-primary: #0a0a0f;
  --color-accent: #ff00ff;

  --color-border: rgba(255, 255, 255, 0.12);
  --color-border-strong: rgba(255, 255, 255, 0.24);
  --color-border-focus: #00f0ff;

  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
  --color-info: #3b82f6;

  --color-link: #00f0ff;
  --color-link-hover: #00d4e0;

  --font-display: var(--font-space-grotesk), system-ui, sans-serif;
  --font-body: var(--font-inter), system-ui, sans-serif;
  --font-mono: var(--font-jetbrains), ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono',
    'Courier New', monospace;

  --radius-sm: 6px;
  --radius-md: 10px;
  --radius-lg: 16px;
  --radius-full: 9999px;

  --shadow-sm: 0 0 8px rgba(0, 240, 255, 0.04);
  --shadow-md: 0 0 16px rgba(0, 240, 255, 0.06);
  --shadow-lg: 0 0 24px rgba(0, 240, 255, 0.08);
  --shadow-glow: 0 0 20px rgba(0, 240, 255, 0.15);
  --shadow-button: 0 0 12px rgba(0, 240, 255, 0.1);
  --shadow-button-hover: 0 0 20px rgba(0, 240, 255, 0.2);

  --duration-fast: 150ms;
  --duration-normal: 200ms;
  --duration-slow: 300ms;
  --ease-out: cubic-bezier(0, 0, 0.2, 1);

  --button-hover-transform: translateY(-1px);
  --card-hover-transform: none;
}

/* ============================================
   THEME: ANALOG
   ============================================ */
html[data-theme='analog'] {
  --color-bg: #faf6f1;
  --color-bg-subtle: #fff8f0;
  --color-surface: #fff8f0;
  --color-surface-hover: rgba(45, 36, 24, 0.05);

  --color-text: #2d2418;
  --color-text-muted: rgba(45, 36, 24, 0.55);
  --color-text-subtle: rgba(45, 36, 24, 0.35);

  /* Darker primary so white text clears AA */
  --color-primary: #c04d24;
  --color-primary-hover: #a13a13;
  --color-on-primary: #ffffff;
  --color-accent: #1a5f4a;

  --color-border: rgba(45, 36, 24, 0.08);
  --color-border-strong: rgba(45, 36, 24, 0.15);
  --color-border-focus: #c04d24;

  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
  --color-info: #3b82f6;

  --color-link: #c04d24;
  --color-link-hover: #a13a13;

  --font-display: var(--font-instrument-serif), Georgia, serif;
  --font-body: var(--font-source-serif), Georgia, serif;
  --font-mono: var(--font-ibm-plex), ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono',
    'Courier New', monospace;

  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 20px;
  --radius-full: 9999px;

  --shadow-sm: 0 1px 2px rgba(45, 36, 24, 0.06);
  --shadow-md: 0 2px 8px rgba(45, 36, 24, 0.08);
  --shadow-lg: 0 4px 16px rgba(45, 36, 24, 0.1);
  --shadow-glow: none;
  --shadow-button: 0 2px 4px rgba(45, 36, 24, 0.08);
  --shadow-button-hover: 0 4px 8px rgba(45, 36, 24, 0.12);

  --duration-fast: 150ms;
  --duration-normal: 200ms;
  --duration-slow: 300ms;
  --ease-out: cubic-bezier(0, 0, 0.2, 1);

  --button-hover-transform: translateY(-2px) rotate(-0.5deg);
  --card-hover-transform: translateY(-2px) rotate(0.5deg);
}

/* ============================================
   THEME: LUMA (default)
   ============================================ */
html,
html[data-theme='luma'] {
  --color-bg: #ffffff;
  --color-bg-subtle: #f8f9fb;
  --color-surface: #ffffff;
  --color-surface-hover: #f8fafc;

  --color-text: #0f172a;
  --color-text-muted: #64748b;
  --color-text-subtle: #94a3b8;

  --color-primary: #0f1729;
  --color-primary-hover: #1a2744;
  --color-on-primary: #ffffff;
  --color-accent: #6366f1;

  --color-border: #e2e8f0;
  --color-border-strong: #cbd5e1;
  --color-border-focus: #6366f1;

  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
  --color-info: #3b82f6;

  /* Slightly darker than accent so links clear AA on white */
  --color-link: #4f46e5;
  --color-link-hover: #4338ca;

  --font-display: var(--font-geist), system-ui, sans-serif;
  --font-body: var(--font-geist), system-ui, sans-serif;
  --font-mono: var(--font-geist-mono), ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono',
    'Courier New', monospace;

  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-full: 9999px;

  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.04);
  --shadow-md: 0 2px 4px rgba(0, 0, 0, 0.04);
  --shadow-lg: 0 4px 8px rgba(0, 0, 0, 0.06);
  --shadow-glow: none;
  --shadow-button: 0 1px 2px rgba(0, 0, 0, 0.05);
  --shadow-button-hover: 0 2px 4px rgba(0, 0, 0, 0.08);

  --duration-fast: 150ms;
  --duration-normal: 200ms;
  --duration-slow: 300ms;
  --ease-out: cubic-bezier(0, 0, 0.2, 1);

  --button-hover-transform: translateY(-1px);
  --card-hover-transform: none;
}

/* ============================================
   THEME: FLUX
   ============================================ */
html[data-theme='flux'] {
  --color-bg: #f5f0e8;
  --color-bg-subtle: #f0ebe3;
  --color-surface: #ffffff;
  --color-surface-hover: rgba(13, 13, 13, 0.05);

  --color-text: #0d0d0d;
  --color-text-muted: rgba(13, 13, 13, 0.55);
  --color-text-subtle: rgba(13, 13, 13, 0.35);

  --color-primary: #ff3d00;
  --color-primary-hover: #e63600;
  --color-on-primary: #0d0d0d;
  --color-accent: #1400ff;

  --color-border: rgba(13, 13, 13, 0.1);
  --color-border-strong: rgba(13, 13, 13, 0.2);
  --color-border-focus: #ff3d00;

  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
  --color-info: #3b82f6;

  --color-link: #b32900;
  --color-link-hover: #a52700;

  --font-display: var(--font-clash-display), system-ui, sans-serif;
  --font-body: var(--font-satoshi), system-ui, sans-serif;
  --font-mono: var(--font-space-mono), ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono',
    'Courier New', monospace;

  --radius-sm: 0;
  --radius-md: 4px;
  --radius-lg: 8px;
  --radius-full: 9999px;

  --shadow-sm: 0 2px 4px rgba(13, 13, 13, 0.06);
  --shadow-md: 0 4px 12px rgba(13, 13, 13, 0.08);
  --shadow-lg: 0 8px 24px rgba(13, 13, 13, 0.1);
  --shadow-glow: none;
  --shadow-button: 0 2px 8px rgba(13, 13, 13, 0.08);
  --shadow-button-hover: 0 4px 16px rgba(13, 13, 13, 0.12);

  --duration-fast: 150ms;
  --duration-normal: 200ms;
  --duration-slow: 300ms;
  --ease-out: cubic-bezier(0, 0, 0.2, 1);

  --button-hover-transform: translateY(-2px);
  --card-hover-transform: translateY(-4px);
}

/* ============================================
   GLOBAL STYLES
   ============================================ */
body {
  background-color: var(--color-bg);
  color: var(--color-text);
  font-family: var(--font-body);
}

a {
  color: var(--color-link);
  text-decoration: none;
  transition: color var(--duration-fast) var(--ease-out);
}

a:hover {
  color: var(--color-link-hover);
}

:focus-visible {
  outline: 2px solid var(--color-border-focus);
  outline-offset: 2px;
}

::selection {
  background-color: var(--color-primary);
  color: var(--color-on-primary);
}

/* ============================================
   FLUX ZONE SYSTEM (scoped to flux only)
   ============================================ */
html[data-theme='flux'] [data-flux-zone='hero'],
html[data-theme='flux'] [data-flux-zone='marketing'] {
  /* Allow expressive treatments in these zones */
}

html[data-theme='flux'] [data-flux-zone='dashboard'],
html[data-theme='flux'] [data-flux-zone='forms'] {
  /* Neutral, restrained styling */
  --button-hover-transform: translateY(-1px);
  --card-hover-transform: none;
}
