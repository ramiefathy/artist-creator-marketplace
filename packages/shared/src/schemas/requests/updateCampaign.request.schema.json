{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://mcmp.local/schemas/requests/updateCampaign.request.schema.json",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "campaignId",
    "patch"
  ],
  "properties": {
    "campaignId": {
      "type": "string",
      "minLength": 1
    },
    "patch": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "title": { "type": "string", "minLength": 5, "maxLength": 120 },
        "brief": { "type": "string", "minLength": 50, "maxLength": 4000 },
        "platforms": {
          "type": "array",
          "minItems": 1,
          "maxItems": 3,
          "uniqueItems": true,
          "items": { "type": "string", "enum": ["tiktok","instagram","youtube"] }
        },
        "deliverableSpec": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "deliverablesTotal": { "type": "integer", "minimum": 1, "maximum": 50 },
            "deliverableType": { "type": "string", "enum": ["tiktok_post","ig_reel","yt_short"] },
            "dueDaysAfterActivation": { "type": "integer", "minimum": 1, "maximum": 30 }
          }
        },
        "contentGuidelines": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "disclosureTextExample": { "type": "string", "minLength": 1, "maxLength": 200 },
            "hashtags": {
              "type": "array",
              "maxItems": 10,
              "items": { "type": "string", "minLength": 1, "maxLength": 64 }
            },
            "callToAction": { "anyOf": [{ "type": "string", "maxLength": 200 }, { "type": "null" }] },
            "doNotInclude": { "anyOf": [{ "type": "string", "maxLength": 500 }, { "type": "null" }] }
          }
        },
        "pricing": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "maxPricePerDeliverableCents": { "type": "integer", "minimum": 500, "maximum": 500000 }
          }
        }
      }
    }
  }
}
